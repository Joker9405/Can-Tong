<!doctype html>
<html lang="zh-Hans">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Can-Tong Backend Check</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"PingFang SC","Microsoft YaHei",sans-serif;padding:24px;line-height:1.6;background:#0b0b0c;color:#e7e7ea}
    .card{max-width:860px;margin:0 auto;border:1px solid #2a2a2e;border-radius:14px;padding:22px;background:#141417}
    button{padding:10px 14px;border-radius:10px;border:1px solid #2a2a2e;background:#1c1c20;color:#e7e7ea;cursor:pointer}
    a{color:#9dd0ff}
    pre{background:#0e0e10;padding:12px;border-radius:8px;overflow:auto;border:1px solid #2a2a2e}
    .muted{color:#9aa0a6}
    .row{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
  </style>
  <script>
    function apiBase(){ return (window.BACKEND_URL || '') }
    async function ping(){
      const res = await fetch(apiBase() + '/api/ping');
      const text = await res.text();
      out('PING', text);
    }
    async function getConfig(){
      const res = await fetch(apiBase() + '/api/config');
      const text = await res.text();
      out('CONFIG', text);
    }
    function out(tag, text){
      const el = document.getElementById('out');
      el.textContent = `[${new Date().toLocaleString()}] ${tag} ->\n` + text + "\n\n" + el.textContent;
    }
  </script>
</head>
<body>
  <div class="card">
    <h1>Can‑Tong 部署自检页</h1>
    <p class="muted">用于确认 <code>/api/ping</code> 和 <code>/api/config</code> 是否已部署成功。</p>
    <div class="row">
      <button onclick="ping()">测试 /api/ping</button>
      <button onclick="getConfig()">测试 /api/config</button>
      <a href="/api/ping" target="_blank">直接打开 /api/ping</a>
      <a href="/api/config" target="_blank">直接打开 /api/config</a>
    </div>
    <h3>输出：</h3>
    <pre id="out">（点击按钮进行测试）</pre>
    <hr/>
    <p class="muted">如需分离部署：根目录创建 <code>config.js</code>，写入 <code>window.BACKEND_URL='https://can-tong.vercel.app'</code> 并引入。</p>
  </div>
</body>
</html>
