<!doctype html>
<html lang="zh-HK">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Can-Tong Â· ä¸­è‹±ç²µ äº’é€š Demo</title>
  <style>
    :root{--bg:#0b0d10;--panel:#12161b;--muted:#9aa4af;--text:#e6edf3;--accent:#6ea8fe;--ok:#30d158;--warn:#ffd60a;}
    *{box-sizing:border-box} body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,'Apple Color Emoji','Segoe UI Emoji';background:var(--bg);color:var(--text)}
    header{padding:16px 20px;border-bottom:1px solid #1e2430;background:var(--panel);position:sticky;top:0;z-index:10}
    header h1{margin:0;font-size:18px;letter-spacing:0.5px}
    main{max-width:980px;margin:0 auto;padding:20px;display:grid;gap:16px}
    .card{background:var(--panel);border:1px solid #1e2430;border-radius:16px;padding:16px}
    .row{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
    .row > *{flex:1}
    textarea{width:100%;min-height:120px;background:#0f1318;color:var(--text);border:1px solid #1e2430;border-radius:12px;padding:12px;font-size:15px;resize:vertical}
    input[type="text"], input[type="url"]{width:100%;background:#0f1318;color:var(--text);border:1px solid #1e2430;border-radius:10px;padding:10px;font-size:14px}
    label{font-size:12px;color:var(--muted);display:block;margin-bottom:6px}
    button{background:#191f2a;color:var(--text);border:1px solid #2a3342;border-radius:12px;padding:10px 14px;font-size:14px;cursor:pointer}
    button:hover{border-color:#3c4960}
    .pill{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:#0f1318;border:1px solid #263042;color:var(--muted);font-size:12px}
    .muted{color:var(--muted);font-size:12px}
    .actions{display:flex;gap:10px;flex-wrap:wrap}
    audio{width:100%}
    .small{font-size:12px}
    .ok{color:var(--ok)} .warn{color:var(--warn)}
    .lang{display:flex;gap:8px;flex-wrap:wrap}
    .lang select{background:#0f1318;color:var(--text);border:1px solid #1e2430;border-radius:10px;padding:8px}
    .grid{display:grid;gap:12px}
    @media (min-width:820px){ .grid{grid-template-columns:1.2fr .8fr} }
  </style>
</head>
<body>
  <header>
    <h1>Canâ€‘Tong Â· ä¸­è‹±ç²µ äº’é€šï¼ˆæœ€å°é›†æˆ Demoï¼‰</h1>
  </header>
  <main>
    <section class="card grid">
      <div>
        <label>è¾“å…¥ï¼ˆå¯ä¸­/è‹±/ç²µæ··è¯´ï¼›æˆ–ç›´æ¥é”®å…¥æ–‡æœ¬ï¼‰</label>
        <textarea id="inputText" placeholder="ä¾‹ï¼šDon't push meï¼Œå””å¥½æ‚æˆ‘â€¦"></textarea>
        <div class="actions" style="margin-top:10px">
          <button id="btnMic">ğŸ™ï¸ å½•éŸ³è¯†åˆ«ï¼ˆASRï¼‰</button>
          <button id="btnStop" disabled>â¹ï¸ åœæ­¢</button>
          <span class="pill" id="asrState">ASRï¼š<b>æœªè¿æ¥</b></span>
        </div>
      </div>
      <div>
        <label>ç›®æ ‡è¯­è¨€</label>
        <div class="lang">
          <select id="sourceLang">
            <option value="auto">è‡ªåŠ¨æ£€æµ‹</option>
            <option value="en">è‹±è¯­ en</option>
            <option value="zh">ä¸­æ–‡ zh</option>
            <option value="yue_Hant">ç²µèªç¹é«” yue_Hant</option>
          </select>
          <span>â†’</span>
          <select id="targetLang">
            <option value="yue_Hant" selected>ç²µèªç¹é«” yue_Hant</option>
            <option value="en">è‹±è¯­ en</option>
            <option value="zh">ä¸­æ–‡ zh</option>
          </select>
        </div>
        <div class="actions" style="margin-top:10px">
          <button id="btnTranslate">ğŸ” ç¿»è¯‘/ç²µèªåŒ–</button>
          <span class="pill" id="mtState">MTï¼š<b>æœªè¿æ¥</b></span>
        </div>
      </div>
    </section>

    <section class="card">
      <label>è¾“å‡º</label>
      <textarea id="outputText" readonly></textarea>
      <div class="actions" style="margin-top:10px">
        <button id="btnSpeak">ğŸ”Š æ’­æŠ¥ï¼ˆTTSï¼‰</button>
        <audio id="audio" controls></audio>
        <span class="pill" id="ttsState">TTSï¼š<b>æœªè¿æ¥</b></span>
      </div>
      <div class="muted small" style="margin-top:8px">
        æç¤ºï¼šå¦‚æœæœªé…ç½®åç«¯ï¼Œå°†è‡ªåŠ¨ä½¿ç”¨æµè§ˆå™¨å†…ç½®çš„ zhâ€‘HK è¯­éŸ³åˆæˆè¿›è¡Œæ¼”ç¤ºï¼ˆéŸ³è‰²å› ç³»ç»Ÿè€Œå¼‚ï¼‰ã€‚
      </div>
    </section>

    <section class="card">
      <label>åç«¯é…ç½®ï¼ˆå¯ç•™ç©ºèµ°æµè§ˆå™¨ Demoï¼‰</label>
      <div class="row">
        <div>
          <label>ASR APIï¼ˆPOST /api/asrï¼Œmultipart: fileï¼‰</label>
          <input id="asrURL" type="url" placeholder="ä¾‹å¦‚ï¼šhttps://your-domain/api/asr">
        </div>
        <div>
          <label>ç¿»è¯‘ APIï¼ˆPOST /api/translateï¼ŒJSONï¼‰</label>
          <input id="mtURL" type="url" placeholder="ä¾‹å¦‚ï¼šhttps://your-domain/api/translate">
        </div>
        <div>
          <label>TTS APIï¼ˆPOST /api/ttsï¼ŒJSONï¼‰</label>
          <input id="ttsURL" type="url" placeholder="ä¾‹å¦‚ï¼šhttps://your-domain/api/tts">
        </div>
      </div>
      <div class="muted small" style="margin-top:8px">
        ç»Ÿä¸€åè®®ï¼š<code>/api/asr</code> â‡’ {"text": "..."}ï¼›<code>/api/translate</code> â‡’ {"text","source_lang","target_lang"}ï¼›
        <code>/api/tts</code> â‡’ è¿”å› audio/mpegã€‚å…¨éƒ¨ CORS: *</div>
    </section>

    <section class="card">
      <div class="muted small">
        Â© 2025 Canâ€‘Tong. æ­¤ Demo æ”¯æŒï¼šSenseVoice / DLâ€‘Translate (yue_Hant) / CosyVoice2ï¼›å‡å¯æ›¿æ¢æˆ–å¾®è°ƒã€‚
      </div>
    </section>
  </main>

  <script src="./app.js"></script>
</body>
</html>
